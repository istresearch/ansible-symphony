datadog_monitors:
  ist_supervisord:
    enabled: true
    is_custom_check: true
    server_name: '{{ inventory_hostname }}'
  es_doc_count:
    enabled: true
    is_custom_check: true
    es_instances:
      - host: '10.105.92.100'
        protocol: http
        port: 9200
        doctypes:
          ##########################
          # QCR Prod
          ##########################
          -  doc_type: tweet_traptor
             index: pulseprod-*
             metric_name: qcr_tweet_traptor.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_tag: QCR.cscc
             tags:
               - 'traptor_type:geo'
               - 'traptor_metric:geo.europe'

          -  doc_type: tweet_traptor
             index: pulseprod-*
             metric_name: qcr_tweet_traptor.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_tag: Pulse.asia
             tags:
               - 'traptor_type:geo'
               - 'traptor_metric:geo.asia'

          -  doc_type: tweet_traptor
             index: pulseprod-*
             metric_name: qcr_tweet_traptor.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_tag: Pulse.south_america
             tags:
               - 'traptor_type:geo'
               - 'traptor_metric:geo.south_america'

          -  doc_type: tweet_traptor
             index: pulseprod-*
             metric_name: qcr_tweet_traptor.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_tag: Pulse.africa
             tags:
               - 'traptor_type:geo'
               - 'traptor_metric:geo.africa'

          -  doc_type: tweet_traptor
             index: pulseprod-*
             metric_name: qcr_tweet_traptor.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_tag: Pulse.australia
             tags:
               - 'traptor_type:geo'
               - 'traptor_metric:geo.australia'
          ##########################
          # QCR Dev
          ##########################
          -  doc_type: tweet_traptor
             index: pulsedev-*
             metric_name: qcr_tweet_traptor.dev.count
             timestamp_field: system_timestamp
             query:
               bool:
                 must:
                  - match:
                      doc.traptor.rule_type: locations
                  - match:
                      doc.traptor.id: 0
             tags:
               - 'traptor_type:locations'
               - 'traptor_metric:locations.locations0'
  disk:
    enabled: true
    is_custom_check: false
    use_mount: no
  network:
    enabled: true
    is_custom_check: false
    collect_connection_state: yes
