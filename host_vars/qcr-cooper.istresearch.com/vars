## GIVE THESE SPECIFIC USERS ACCESS TO THE SERVER
dev:
   - { name: aklintse, key: "{{ vault_aklintse_key }}" }
   - { name: jsteele, key: "{{ vault_jsteele_key }}" }

datadog_monitors:
  ist_supervisord:
    enabled: true
    is_custom_check: true
    server_name: '{{ inventory_hostname }}'
  es_doc_count:
    enabled: true
    is_custom_check: true
    es_instances:
      - host: '10.105.92.100'
        protocol: http
        port: 9200
        doctypes:
          ##########################
          # QCR Prod storm
          ##########################
          - doc_type: normalizer-traptor-topology
            index: logs-topologies-*
            metric_name: storm.check.logs.count
            timestamp_field: timestamp
            query:
              bool:
                must:
                 - match:
                     message: Tuple acked in spout.
                 - match:
                     path: /var/log/topologies/topology.log

            tags:
              - 'storm_log:normalizer-traptor-topology'
              - 'storm_env:production'

          - doc_type: normalizer-voyager-topology
            index: logs-topologies-*
            metric_name: storm.check.logs.count
            timestamp_field: timestamp
            query:
              bool:
                must:
                 - match:
                     message: Tuple acked in spout.
                 - match:
                     path: /var/log/topologies/topology.log
            tags:
              - 'storm_log:normalizer-voyager-topology'
              - 'storm_env:production'

  disk:
    enabled: true
    is_custom_check: false
    use_mount: no
  network:
    enabled: true
    is_custom_check: false
    collect_connection_state: yes
